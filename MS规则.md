## 关键字就是“新建/写入/复制/删除/运行”。就是中文的，你没看错

# MS规则

### 1. 新建

- **格式**：  
  
  ```
  新建 路径
  ```

- **路径**  
  
  - 可以是目录（无扩展名）或文件（有扩展名）。  
  - 支持多级目录，例如 `新建 src/utils/logger.h`。  

- **行为**  
  
  - 目录不存在会**自动递归创建**。  
  - 若路径含扩展名，则先建空文件；无扩展名则建目录。

---

### 2. 写入

- **格式**：  
  
  ```
  写入 文件路径
  """
      第一行内容
      第二行内容
      ...
  """
  ```

- **格式**  
  
  - **使用三引号块**  
  - 仅支持三引号块
  - 引号块内缩进不管

- **路径**  
  
  - 与“新建”规则相同；目录不存在自动创建。  

- **行为**  
  
  - 把使用 三引号块 包裹起来了的文本写进目标文件，**覆盖式写入**。

---

### 3. 复制

- **格式**：  
  
  ```
  复制 源路径 目标路径
  ```

- **路径**  
  
  - 相对脚本目录（BASE）。  

- **行为**  
  
  - 目录 → 目录：整树拷贝，允许已存在目录 (`dirs_exist_ok=True`)。  
  - 文件 → 文件/目录：按 shutil.copy2 行为。

---

### 4. 删除

- **格式**：  
  
  ```
  删除 路径
  ```

- **行为**  
  
  - 目录：递归删除。  
  - 文件：直接删除。  
  - 路径不存在时不报错（`os.remove/rmtree` 已包异常）。

---

### 5. 运行

- **格式**：  
  
  ```
  运行 shell命令
  
   *也可以直接运行.bat.py等*
  运行 路径
  ```

- **注意**  
  
  - **工作目录被硬编码为 `folderB`**（见代码 `work_dir = os.path.join(BASE, 'folderB')`）。  
  - 因此命令里所有相对路径都基于 `folderB`。  
  - 命令可以含空格、管道、&&、|| 等，整行原样丢给 `subprocess.run(..., shell=True)`。

---

### 6. 通用规则

- **大小写敏感**：关键字必须是“新建/写入/复制/删除/运行”。  
- **空行与注释**：  
  - 空行会被 `.strip()` 后忽略；  
  - 目前**不支持行内注释**，想在 `.ms` 里写说明请整行留空 
- **文件编码**：统一 UTF-8（启动器已 `encoding='utf-8'`）。

---

### 示例（可直接验证）

```
# 我是注释
新建 folderB
# 我是注释
写入 folderB/hello.cpp
"""
    #include <iostream>
    int main(){
        std::cout << "Hi\n";
        return 0;
    }
"""
# 我是注释
运行 g++ hello.cpp -o hello && ./hello
```

把这段保存为 `test.ms`，双击打开，运行。                 *——能运行的前提是MS-IDE配置已完成*
